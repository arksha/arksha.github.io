<!DOCTYPE html>
<html>
    <head>
      <title>Arksha's blog</title>
      <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <meta name="description" content="" />
      <meta name="keywords" content="" />
      <!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
      <script src="/js/jquery.min.js"></script>
      <script src="/js/jquery.poptrox.min.js"></script>
      <script src="/js/skel.min.js"></script>
      <script src="/js/init.js"></script>
      <noscript>
        <link rel="stylesheet" href="/css/skel.css" />
        <link rel="stylesheet" href="/css/style.css" />
        <link rel="stylesheet" href="/css/style-xlarge.css" />
      </noscript>
      <!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
    </head>

	<body id="top">
     
    <div class="wrap">
      <header id="header">
          <a href="#" class="image avatar"><img src="/images/avatar.jpg" alt="" /></a>
          <h1>I am <strong><a href="/">Arksha</a></strong> ,a developer in LA.<br/>
          Specific in Web Development and Software Development. Have experience in Graphics and Game Developing.<br/>
          <br/>Blogging is fun<br/></h1>
      </header>
      <div class="container content">
        <div id="main">
    <article>
        <header class="major">
            <h2 class="post-title">Word Brother's</h2>
                <p class="post-meta">Jan 21, 2016</p>
        </header>

        <section>
            <h1 id="word-ladder">Word Ladder</h1>
<p><a href="https://leetcode.com/problems/word-ladder/">传送门</a>
 Solution: BFS, use hashmap to reduce repeat elements,and use queue to implement BFS</p>

<p>code:</p>

 	public class Solution {
<div class="highlighter-rouge"><pre class="highlight"><code>public int ladderLength(String beginWord, String endWord, Set&lt;String&gt; wordList) {
    if(wordList.size()==0||wordList==null) return 0;
    HashSet&lt;String&gt; hash = new HashSet&lt;&gt;();
    Queue&lt;String&gt; q = new LinkedList&lt;&gt;();
    q.offer(beginWord);
    hash.add(beginWord);
    int length = 1;
    while(!q.isEmpty()){
        length++;
        int size = q.size();
        for(int i = 0;i&lt;size;i++){
            String word = q.poll();
            for(String next: getnext(word,wordList)){
                if(hash.contains(next))
                    continue;
                if(next.equals(endWord))
                    return length;
                hash.add(next);
                q.offer(next);
            }
        }
    }
    return 0;
}

private String replace(String s, int index, char c) {
    char[] chars = s.toCharArray();
    chars[index] = c;
    return new String(chars);
}

private ArrayList&lt;String&gt; getnext(String word,Set&lt;String&gt; wordList){
    ArrayList&lt;String&gt; nextWords = new ArrayList&lt;String&gt;();
    for (char c = 'a'; c &lt;= 'z'; c++) {
        for (int i = 0; i &lt; word.length(); i++) {
            if (c == word.charAt(i)) {
                continue;
            }
            String nextWord = replace(word, i, c);
            if (wordList.contains(nextWord)) {
                nextWords.add(nextWord);
            }
        }
    }
    return nextWords;
} }
</code></pre>
</div>

<h1 id="word-ladder-ii">Word Ladder ii</h1>
<p><a href="https://leetcode.com/problems/word-ladder-ii/">传送门</a></p>

<p>solution：</p>

<p>code：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public class Solution {
public List&lt;List&lt;String&gt;&gt; findLadders(String start, String end,
        Set&lt;String&gt; dict) {
    List&lt;List&lt;String&gt;&gt; ladders = new ArrayList&lt;List&lt;String&gt;&gt;();
    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;String, List&lt;String&gt;&gt;();
    Map&lt;String, Integer&gt; distance = new HashMap&lt;String, Integer&gt;();

    dict.add(start);
    dict.add(end);
 
    bfs(map, distance, start, end, dict);
    
    List&lt;String&gt; path = new ArrayList&lt;String&gt;();
    
    dfs(ladders, path, end, start, distance, map);

    return ladders;
}

void dfs(List&lt;List&lt;String&gt;&gt; ladders, List&lt;String&gt; path, String crt,
        String start, Map&lt;String, Integer&gt; distance,
        Map&lt;String, List&lt;String&gt;&gt; map) {
    path.add(crt);
    if (crt.equals(start)) {
        Collections.reverse(path);
        ladders.add(new ArrayList&lt;String&gt;(path));
        Collections.reverse(path);
    } else {
        for (String next : map.get(crt)) {
            if (distance.containsKey(next) &amp;&amp; distance.get(crt) == distance.get(next) + 1) { 
                dfs(ladders, path, next, start, distance, map);
            }
        }           
    }
    path.remove(path.size() - 1);
}

void bfs(Map&lt;String, List&lt;String&gt;&gt; map, Map&lt;String, Integer&gt; distance,
        String start, String end, Set&lt;String&gt; dict) {
    Queue&lt;String&gt; q = new LinkedList&lt;String&gt;();
    q.offer(start);
    distance.put(start, 0);
    for (String s : dict) {
        map.put(s, new ArrayList&lt;String&gt;());
    }
    
    while (!q.isEmpty()) {
        String crt = q.poll();

        List&lt;String&gt; nextList = expand(crt, dict);
        for (String next : nextList) {
            map.get(next).add(crt);
            if (!distance.containsKey(next)) {
                distance.put(next, distance.get(crt) + 1);
                q.offer(next);
            }
        }
    }
}

List&lt;String&gt; expand(String crt, Set&lt;String&gt; dict) {
    List&lt;String&gt; expansion = new ArrayList&lt;String&gt;();

    for (int i = 0; i &lt; crt.length(); i++) {
        for (char ch = 'a'; ch &lt;= 'z'; ch++) {
            if (ch != crt.charAt(i)) {
                String expanded = crt.substring(0, i) + ch
                        + crt.substring(i + 1);
                if (dict.contains(expanded)) {
                    expansion.add(expanded);
                }
            }
        }
    }

    return expansion;
} }
</code></pre>
</div>

<h1 id="word-break">Word Break</h1>

<p>solution:</p>

<p>code:</p>

<p>1.naive approach:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public class Solution {
public boolean wordBreak(String s, Set&lt;String&gt; dict) {
         return wordBreakHelper(s, dict, 0);
}
 
    public boolean wordBreakHelper(String s, Set&lt;String&gt; dict, int start){
        if(start == s.length()) 
            return true;
 
        for(String a: dict){
            int len = a.length();
            int end = start+len;
 
            //end index should be &lt;= string length
            if(end &gt; s.length()) 
                continue;
 
            if(s.substring(start, start+len).equals(a))
                if(wordBreakHelper(s, dict, start+len))
                    return true;
        }
 
        return false;
    }
}
</code></pre>
</div>

<p>2.DP</p>

<p>code:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public class Solution {
    public boolean wordBreak(String s, Set&lt;String&gt; dict) {
        boolean[] t = new boolean[s.length()+1];
        t[0] = true; //set first to be true, why?
        //Because we need initial state
 
        for(int i=0; i&lt;s.length(); i++){
            //should continue from match position
            if(!t[i]) 
                continue;
 
            for(String a: dict){
                int len = a.length();
                int end = i + len;
                if(end &gt; s.length())
                    continue;
 
                if(t[end]) continue;
 
                if(s.substring(i, end).equals(a)){
                    t[end] = true;
                }
            }
        }
 
        return t[s.length()];
    }
}
</code></pre>
</div>

<h1 id="word-break-ii">Word Break II</h1>

<p>solution: DP</p>

<p>code:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public static List&lt;String&gt; wordBreak(String s, Set&lt;String&gt; dict) {
    //create an array of ArrayList&lt;String&gt;
    List&lt;String&gt; dp[] = new ArrayList[s.length()+1];
    dp[0] = new ArrayList&lt;String&gt;();
 
    for(int i=0; i&lt;s.length(); i++){
        if( dp[i] == null ) 
            continue; 
 
        for(String word:dict){
            int len = word.length();
            int end = i+len;
            if(end &gt; s.length()) 
                continue;
 
            if(s.substring(i,end).equals(word)){
                if(dp[end] == null){
                    dp[end] = new ArrayList&lt;String&gt;();
                }
                dp[end].add(word);
            }
        }
    }
 
    List&lt;String&gt; result = new LinkedList&lt;String&gt;();
    if(dp[s.length()] == null) 
        return result; 
 
    ArrayList&lt;String&gt; temp = new ArrayList&lt;String&gt;();
    dfs(dp, s.length(), result, temp);
 
    return result;
}
 
public static void dfs(List&lt;String&gt; dp[],int end,List&lt;String&gt; result, ArrayList&lt;String&gt; tmp){
    if(end &lt;= 0){
        String path = tmp.get(tmp.size()-1);
        for(int i=tmp.size()-2; i&gt;=0; i--){
            path += " " + tmp.get(i) ;
        }
 
        result.add(path);
        return;
    }
 
    for(String str : dp[end]){
        tmp.add(str);
        dfs(dp, end-str.length(), result, tmp);
        tmp.remove(tmp.size()-1);
    }
}
</code></pre>
</div>

<h1 id="word-search">Word Search</h1>

<p>solution:</p>

<p>code:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public class Solution {
    public boolean exist(char[][] board, String word) {
        int n = board.length;
        int m = board[0].length;
        boolean res = false;
        for(int i = 0;i&lt;n;i++){
            for(int j = 0;j&lt;m;j++){
                if(gothrough(i,j,board,word,0))
                    res = true;
            }
        }

      
        return res;
    }
    public boolean gothrough(int a,int b, char[][] board,String word,int cur){
        int num = word.length();
        int n = board.length;
        int m = board[0].length;
            if(a&gt;=n||a&lt;0||b&lt;0||b&gt;=m)
                return false;
           
            if(board[a][b]==word.charAt(cur)){
                char temp = board[a][b];
                board[a][b] = '#';
                if(cur==num-1)
                    return true;
                else if(gothrough(a+1,b,board,word,cur+1)||
                    gothrough(a,b+1,board,word,cur+1)||
                    gothrough(a-1,b,board,word,cur+1)||
                    gothrough(a,b-1,board,word,cur+1)
                   )
                    return true;  
                
              board[a][b] = temp;
            }
            return false;
	}
}
</code></pre>
</div>

<h1 id="word-search-ii">Word Search II</h1>

<p>solution: use trie tree</p>

<p>code:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public class Solution {
    Trie trie = new Trie();
    Set&lt;String&gt; res = new HashSet&lt;String&gt;(); 
    public List&lt;String&gt; findWords(char[][] board, String[] words) {
        
         int m=board.length;
         int n=board[0].length;
        boolean mark[][] = new boolean[m][n];
        for (int i = 0;i&lt;words.length;i++)
        {
            trie.insert(words[i]);
        }
        for (int i = 0;i&lt;board.length;i++)
        {
            for (int j = 0;j&lt;board[0].length;j++)
            {
                dfs(board,"",i,j,trie,mark);
            }
        }
     return new ArrayList&lt;String&gt;(res);   
    }
    

    public void dfs(char[][] board,String str, int i,int j,Trie trie,boolean mark[][]){
        int m=board.length;
        int n=board[0].length;
        
        if(i&lt;0||i&gt;=m||j&lt;0||j&gt;=n)
            return;
        if(mark[i][j])
            return;
        str += board[i][j];
        if(!trie.startsWith(str))
            return;
        if(trie.search(str))
            if(!res.contains(str))
            res.add(str);
        mark[i][j] = true;
        dfs(board,str,i-1,j,trie,mark);
        dfs(board,str,i+1,j,trie,mark);
        dfs(board,str,i,j+1,trie,mark);
        dfs(board,str,i,j-1,trie,mark);
        mark[i][j] = false;
        
    }
}
class TrieNode{
    public TrieNode[] children = new TrieNode[26];
    public String item = "";
}
 
//Trie
class Trie{
    public TrieNode root = new TrieNode();
 
    public void insert(String word){
        TrieNode node = root;
        for(char c: word.toCharArray()){
            if(node.children[c-'a']==null){
                node.children[c-'a']= new TrieNode();
            }
            node = node.children[c-'a'];
        }
        node.item = word;
    }
 
    public boolean search(String word){
        TrieNode node = root;
        for(char c: word.toCharArray()){
            if(node.children[c-'a']==null)
                return false;
            node = node.children[c-'a'];
        }
        if(node.item.equals(word)){
            return true;
        }else{
            return false;
        }
    }
 
    public boolean startsWith(String prefix){
        TrieNode node = root;
        for(char c: prefix.toCharArray()){
            if(node.children[c-'a']==null)
                return false;
            node = node.children[c-'a'];
        }
        return true;
	}
}
</code></pre>
</div>

<h1 id="word-pattern">Word Pattern</h1>

<p>solution:</p>

<p>code:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>public class Solution {
    public boolean wordPattern(String pattern, String str) {
        String[] dict = str.split(" ");
        if(pattern.length()!=dict.length){
            return false;
        }
        Map index = new HashMap();
        for(int i = 0;i&lt;dict.length;i++){
            if(!Objects.equals(index.put(pattern.charAt(i),i),
                              index.put(dict[i],i)))
                return false;
           
        }
            return true;
    }
}
</code></pre>
</div>

        </section>
        
        <footer>
            <div class="row">
            
            
                <article class="6u 12u(small) excerpt">
                    <header>
                        <h2><a href="/diary/2015/12/13/After-Siemens-Interview.html">After Siemens Interview</a></h2>
                    </header>
                    <section>
                        <h3 id="few-things-after-interview-today">Few things After Interview today</h3>


                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/diary/2015/12/13/After-Siemens-Interview.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            
            
            
            
                <article class="6u$ 12u(small) excerpt f-right">
                    <header>
                        <h2><a href="/leetcode/2016/01/26/BFS.html">BFS</a></h2>
                    </header>
                    <section>
                        <h1 id="section">#</h1>
<p><a href="https://leetcode.com/problems/word-ladder/">传送门</a>
 Solution: BFS, use hashmap to reduce repeat elements,and use queue to implement BFS</p>


                    </section>
                    <footer>
                        <ul class="actions">
                            <li><a href="/leetcode/2016/01/26/BFS.html" class="button">Read More</a></li>
                        </ul>
                    </footer>
                </article>
            
            </div>
        </footer>

    </article>

</div>

      </div>
       <!-- Footer -->
        <footer id="footer">
            <ul class="icons">

              
              <li>
                <a href="https://github.com/arksha" class="icon fa-github">
                  <span class="label">GitHub</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://twitter.com/gongt92kyo" class="icon fa-twitter">
                  <span class="label">Twitter</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://linkedin.com/in/gongting92@gmail.com" class="icon fa-linkedin">
                  <span class="label">LinkedIn</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://plus.google.com/example" class="icon fa-google-plus">
                  <span class="label">Google+</span>
                </a>
              </li>
              

              
              <li>
                <a href="https://www.facebook.com/Ting Gong" class="icon fa-facebook">
                  <span class="label">Facebook</span>
                </a>
              </li>
              

              
              <li>
                <a href="#" class="icon fa-dribbble">
                  <span class="label">Dribbble</span>
                </a>
              </li>
              

              
              <li>
                <a href="mailto:tingg@usc.edu" class="icon fa-envelope-o">
                  <span class="label">Email</span>
                </a>
              </li>
              
            </ul>
            <ul class="copyright">
                <li>&copy; Arksha Gong</li>
            </ul>
        </footer>
    </div>

    

	</body>
</html>
